[app]
mode     = "prod"
timezone = "America/Mexico_City"

[database]
dialect = "postgres"

[sqlite]
path = "rss.db"

[postgres]
db       = "data"
host     = "postgres"
password = "admin"
port     = 5432
schema   = "fetcher"
user     = "admin"

[polling]
default_seconds = 900
jitter_fraction = 0.35
max_seconds     = 21600

[backoff]
error_base_seconds = 120
immediate_error_statuses = [
  404,
  429,
]
max_consecutive_errors = 4
max_error_seconds      = 43200

[requests]
global_max_concurrent_requests = 4
user_agent                     = "RssFetcher/1.0 (+https://example.org)"

[state_history]
sample_rate = 0.1

[logging]
feed_timing_domains = []
feed_timing_enabled = false
feed_timing_log_all = false
feed_timing_warn_ms = 30000
file_directory      = "logs"
file_enabled        = false
file_level          = "info"
file_name           = "pulsewire"
file_rotation       = "hourly"
level               = "info"
tick_warn_seconds   = 600

[metrics]
bind    = "0.0.0.0:9898"
enabled = true
